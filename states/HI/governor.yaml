contact_form:
  steps:
    - visit: "https://governor.hawaii.gov/contact-us/contact-the-governor/"
    - select:
        - name: "input_4.2"
          selector: "#input_1_4_2"
          value: $NAME_PREFIX
          options:
            "Mr.": "Mr."
            "Ms.": "Ms."
            "Mrs.": "Mrs."
            "Dr.": "Dr."
    - fill_in:
        - name: "input_4.3"
          selector: "#input_1_4_3"
          value: $NAME_FIRST
          required: true
        - name: "input_4.6"
          selector: "#input_1_4_6"
          value: "$NAME_LAST"
          required: true
        - name: "input_7"
          selector: "#input_1_7"
          value: $PHONE
          required: true
        - name: "input_8"
          selector: "#input_1_8"
          value: $EMAIL
    - fill_in:
        - name: "input_9.1"
          selector: "#input_1_9_1"
          value: $ADDRESS_STREET
        - name: "input_9.3"
          selector: "#input_1_9_3"
          value: $ADDRESS_CITY
        - name: "input_9.4"
          selector: "#input_1_9_4"
          value: $ADDRESS_STATE_POSTAL_ABBREV
        - name: "input_9.5"
          selector: "#input_1_9_5"
          value: $ADDRESS_ZIP5
    - select:
        - name: "input_9.6"
          selector: "#input_1_9_6"
          value: "United States"
          options:
            "Afghanistan": "Afghanistan"
            "Albania": "Albania"
            "Algeria": "Algeria"
            "American Samoa": "American Samoa"
            "Andorra": "Andorra"
            "Angola": "Angola"
            "Antigua and Barbuda": "Antigua and Barbuda"
            "Argentina": "Argentina"
            "Armenia": "Armenia"
            "Australia": "Australia"
            "Austria": "Austria"
            "Azerbaijan": "Azerbaijan"
            "Bahamas": "Bahamas"
            "Bahrain": "Bahrain"
            "Bangladesh": "Bangladesh"
            "Barbados": "Barbados"
            "Belarus": "Belarus"
            "Belgium": "Belgium"
            "Belize": "Belize"
            "Benin": "Benin"
            "Bermuda": "Bermuda"
            "Bhutan": "Bhutan"
            "Bolivia": "Bolivia"
            "Bosnia and Herzegovina": "Bosnia and Herzegovina"
            "Botswana": "Botswana"
            "Brazil": "Brazil"
            "Brunei": "Brunei"
            "Bulgaria": "Bulgaria"
            "Burkina Faso": "Burkina Faso"
            "Burundi": "Burundi"
            "Cambodia": "Cambodia"
            "Cameroon": "Cameroon"
            "Canada": "Canada"
            "Cape Verde": "Cape Verde"
            "Cayman Islands": "Cayman Islands"
            "Central African Republic": "Central African Republic"
            "Chad": "Chad"
            "Chile": "Chile"
            "China": "China"
            "Colombia": "Colombia"
            "Comoros": "Comoros"
            "Congo, Democratic Republic of the": "Congo, Democratic Republic of the"
            "Congo, Republic of the": "Congo, Republic of the"
            "Costa Rica": "Costa Rica"
            "Côte d'Ivoire": "Côte d'Ivoire"
            "Croatia": "Croatia"
            "Cuba": "Cuba"
            "Curaçao": "Curaçao"
            "Cyprus": "Cyprus"
            "Czech Republic": "Czech Republic"
            "Denmark": "Denmark"
            "Djibouti": "Djibouti"
            "Dominica": "Dominica"
            "Dominican Republic": "Dominican Republic"
            "East Timor": "East Timor"
            "Ecuador": "Ecuador"
            "Egypt": "Egypt"
            "El Salvador": "El Salvador"
            "Equatorial Guinea": "Equatorial Guinea"
            "Eritrea": "Eritrea"
            "Estonia": "Estonia"
            "Ethiopia": "Ethiopia"
            "Faroe Islands": "Faroe Islands"
            "Fiji": "Fiji"
            "Finland": "Finland"
            "France": "France"
            "French Polynesia": "French Polynesia"
            "Gabon": "Gabon"
            "Gambia": "Gambia"
            "Georgia": "Georgia"
            "Germany": "Germany"
            "Ghana": "Ghana"
            "Greece": "Greece"
            "Greenland": "Greenland"
            "Grenada": "Grenada"
            "Guam": "Guam"
            "Guatemala": "Guatemala"
            "Guinea": "Guinea"
            "Guinea-Bissau": "Guinea-Bissau"
            "Guyana": "Guyana"
            "Haiti": "Haiti"
            "Honduras": "Honduras"
            "Hong Kong": "Hong Kong"
            "Hungary": "Hungary"
            "Iceland": "Iceland"
            "India": "India"
            "Indonesia": "Indonesia"
            "Iran": "Iran"
            "Iraq": "Iraq"
            "Ireland": "Ireland"
            "Israel": "Israel"
            "Italy": "Italy"
            "Jamaica": "Jamaica"
            "Japan": "Japan"
            "Jordan": "Jordan"
            "Kazakhstan": "Kazakhstan"
            "Kenya": "Kenya"
            "Kiribati": "Kiribati"
            "North Korea": "North Korea"
            "South Korea": "South Korea"
            "Kosovo": "Kosovo"
            "Kuwait": "Kuwait"
            "Kyrgyzstan": "Kyrgyzstan"
            "Laos": "Laos"
            "Latvia": "Latvia"
            "Lebanon": "Lebanon"
            "Lesotho": "Lesotho"
            "Liberia": "Liberia"
            "Libya": "Libya"
            "Liechtenstein": "Liechtenstein"
            "Lithuania": "Lithuania"
            "Luxembourg": "Luxembourg"
            "Macedonia": "Macedonia"
            "Madagascar": "Madagascar"
            "Malawi": "Malawi"
            "Malaysia": "Malaysia"
            "Maldives": "Maldives"
            "Mali": "Mali"
            "Malta": "Malta"
            "Marshall Islands": "Marshall Islands"
            "Mauritania": "Mauritania"
            "Mauritius": "Mauritius"
            "Mexico": "Mexico"
            "Micronesia": "Micronesia"
            "Moldova": "Moldova"
            "Monaco": "Monaco"
            "Mongolia": "Mongolia"
            "Montenegro": "Montenegro"
            "Morocco": "Morocco"
            "Mozambique": "Mozambique"
            "Myanmar": "Myanmar"
            "Namibia": "Namibia"
            "Nauru": "Nauru"
            "Nepal": "Nepal"
            "Netherlands": "Netherlands"
            "New Zealand": "New Zealand"
            "Nicaragua": "Nicaragua"
            "Niger": "Niger"
            "Nigeria": "Nigeria"
            "Northern Mariana Islands": "Northern Mariana Islands"
            "Norway": "Norway"
            "Oman": "Oman"
            "Pakistan": "Pakistan"
            "Palau": "Palau"
            "Palestine, State of": "Palestine, State of"
            "Panama": "Panama"
            "Papua New Guinea": "Papua New Guinea"
            "Paraguay": "Paraguay"
            "Peru": "Peru"
            "Philippines": "Philippines"
            "Poland": "Poland"
            "Portugal": "Portugal"
            "Puerto Rico": "Puerto Rico"
            "Qatar": "Qatar"
            "Romania": "Romania"
            "Russia": "Russia"
            "Rwanda": "Rwanda"
            "Saint Kitts and Nevis": "Saint Kitts and Nevis"
            "Saint Lucia": "Saint Lucia"
            "Saint Vincent and the Grenadines": "Saint Vincent and the Grenadines"
            "Samoa": "Samoa"
            "San Marino": "San Marino"
            "Sao Tome and Principe": "Sao Tome and Principe"
            "Saudi Arabia": "Saudi Arabia"
            "Senegal": "Senegal"
            "Serbia": "Serbia"
            "Seychelles": "Seychelles"
            "Sierra Leone": "Sierra Leone"
            "Singapore": "Singapore"
            "Sint Maarten": "Sint Maarten"
            "Slovakia": "Slovakia"
            "Slovenia": "Slovenia"
            "Solomon Islands": "Solomon Islands"
            "Somalia": "Somalia"
            "South Africa": "South Africa"
            "Spain": "Spain"
            "Sri Lanka": "Sri Lanka"
            "Sudan": "Sudan"
            "Sudan, South": "Sudan, South"
            "Suriname": "Suriname"
            "Swaziland": "Swaziland"
            "Sweden": "Sweden"
            "Switzerland": "Switzerland"
            "Syria": "Syria"
            "Taiwan": "Taiwan"
            "Tajikistan": "Tajikistan"
            "Tanzania": "Tanzania"
            "Thailand": "Thailand"
            "Togo": "Togo"
            "Tonga": "Tonga"
            "Trinidad and Tobago": "Trinidad and Tobago"
            "Tunisia": "Tunisia"
            "Turkey": "Turkey"
            "Turkmenistan": "Turkmenistan"
            "Tuvalu": "Tuvalu"
            "Uganda": "Uganda"
            "Ukraine": "Ukraine"
            "United Arab Emirates": "United Arab Emirates"
            "United Kingdom": "United Kingdom"
            "United States": "United States"
            "Uruguay": "Uruguay"
            "Uzbekistan": "Uzbekistan"
            "Vanuatu": "Vanuatu"
            "Vatican City": "Vatican City"
            "Venezuela": "Venezuela"
            "Vietnam": "Vietnam"
            "Virgin Islands, British": "Virgin Islands, British"
            "Virgin Islands, U.S.": "Virgin Islands, U.S."
            "Yemen": "Yemen"
            "Zambia": "Zambia"
            "Zimbabwe": "Zimbabwe"
        - name: "input_10"
          selector: "#input_1_10"
          value: "Other"
          required: true
          options:
            "Comment/ Suggestion": "Comment/ Suggestion"
            "Complaint": "Complaint"
            "Question": "Question"
            "Other": "Other"
    - fill_in:
        - name: "input_11"
          selector: "#input_1_11"
          value: $MESSAGE
          required: true
    # The address county is added temporarily so that the JS that follows can grab it and use it.  It is then cleared once the JS is done with it.
    - fill_in:
        - name: "input_9.2"
          selector: "#input_1_9_2"
          value: $ADDRESS_COUNTY
    - javascript:
        # Hawaii has a 'region' dropdown that doesn't correlate directly to any address component we currently collect.  So we have connected the region to a county where we can, and a zip code where we cannot.  The JS below handles this and selects the appropriate option value.
        # NOTE: The apostrophes in the values of the countyRegionXref hash (the region names) are right apostrophes (Unicode U+2019).  The regular straight apostrophe (Unicode U+0027) will not match on the form.
        - value: "var county = document.getElementById('input_1_9_2').value;
        var zip = document.getElementById('input_1_9_5').value;

        const zipList = new Set(['96719', '96755', '96743', '96738', '96740', '96725', '96750', '96704', '96722', '96726', '96763']);

        const countyRegionXref = {
          'Hawaii' : 'East Hawaiʻi Island',
          'Honolulu' : 'Oʻahu',
          'Kalawao' : 'Molokaʻi',
          'Kauai' : 'Kauaʻi',
          'Maui' : 'Maui'
        }

        function findRegion(county, zip) {
          var region;
          if (zip == '96763') {
            var region = 'Lanaʻi';
          }
          else if (zipList.has(zip)) {
            var region = 'West Hawaiʻi Island';
          }
          else {
            var region = countyRegionXref[county];
          }
          return region;
        }

        document.getElementById('input_1_18').value = findRegion(county, zip);
        document.getElementById('input_1_9_2').value ='';"
    - recaptcha:
        - value: true
          recaptcha_selector: "#input_1_17"
    - click_on:
        - value: "Submit"
          selector: "#gform_submit_button_1"
  success:
    body:
      contains: "Mahalo for your email"
